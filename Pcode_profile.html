BEGIN Profile Page

    Start the session to access session variables
    
    Include necessary files for database connection and functions
    
    Check if viewing a specific user profile
    IF 'membersID' is in GET request THEN
        SET viewedUserID to 'membersID' from GET
        SET isOwner to false
    ELSE IF 'membersID' is in SESSION THEN
        SET viewedUserID to 'membersID' from SESSION
        SET isOwner to true
    ELSE
        REDIRECT to login page
        TERMINATE SCRIPT

    Fetch user data for the viewed profile

    IF result is empty THEN
        REDIRECT to login page
        TERMINATE SCRIPT
    END IF

    Fetch posts for the viewed user

    Determine profile picture path
    IF profilePicture exists THEN
        SET profilePicturePath to uploaded image path
    ELSE
        SET profilePicturePath to default 

    Begin HTML output
    START HTML DOCUMENT

    Include header with navigation
    DISPLAY navigation bar with:
        - Logo
        - User's username
        - Links to Dashboard and Logout
        - Search bar

    Main section for the profile page
    DISPLAY main container with:
        - Welcome message for the user
        - User's profile picture

        If the user is the owner, show upload form
        IF isOwner THEN
            DISPLAY form to upload new profile picture
        END IF

        Display bio section
        DISPLAY user's bio
        IF isOwner THEN
            DISPLAY "Edit Bio" button
        END IF

        If user is the owner, show bio edit form (hidden by default)
        
        Section for uploading a new post
        DISPLAY "Upload a Post" section
        IF isOwner THEN
            DISPLAY form to upload a post with image
        ELSE
            DISPLAY message saying the user cannot upload posts
        END IF

        Display user's gallery of posts
        

    Include footer for the webpage
    
    // Include external JavaScript for additional functionality
    
END Profile Page
